
# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Как сдавать задания

*Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.*

*Задачи со звездочкой (\*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.*

*Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.*

*Любые вопросы по решению задач задавайте в чате учебной группы.*

---

## Задача 1

*Сценарий выполения задачи:*

- *создайте свой репозиторий на https://hub.docker.com;*
- *выберете любой образ, который содержит веб-сервер Nginx;*
- *создайте свой fork образа;*
- *реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:*
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
*Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.*

## Задача 2

*Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"*

*Детально опишите и обоснуйте свой выбор.*

--

*Сценарий:*

- *Высоконагруженное монолитное java веб-приложение;*
- *Nodejs веб-приложение;*
- *Мобильное приложение c версиями для Android и iOS;*
- *Шина данных на базе Apache Kafka;*
- *Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;*
- *Мониторинг-стек на базе Prometheus и Grafana;*
- *MongoDB, как основное хранилище данных для java-приложения;*
- *Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.*

**Высоконагруженное монолитное java веб-приложение**  

Тут и вариантов-то нет. Докер для монолита смысла не имеет. Виртуалка под большой нагрузкой тоже вряд ли покажет себя блестяще. Остаётся единственный выбор - физический сервер.

**Nodejs веб-приложение**  

Пожалуй, докер здесь является оптимальным вариантом. Минимум накладных расходов, простота управления и автоскейлинга.

**Мобильное приложение c версиями для Android и iOS**  

Не совсем понятно - что имеется в виду?  

Если мы говорим о запуске именно мобильных версий приложения, да под разные аппаратные платформы, то проще всего каждую версию пустить в отдельной виртуалке с эмулятором конкретной платформы.  

Если же речь идёт о серверной части мобильного приложения, то сильно зависит от того, как и на чём это самая серверная часть сделана. Возможно, получится обойтись докером, но, возможно, лучше покажет себя отдельная виртуалка или даже несколько под это вот всё.

А возможен и гибридный вариант - часть обработки в масштабируемых в зависимости от нагрузки контейнерах, а базы данных в виртуалках или даже на физических машинах.

**Шина данных на базе Apache Kafka**  

*Честно говоря, я слабо себе представляю - что это за штука и с чем её едят, но, суммируя доступные мне данные...*  
Скорее всего, если речь идёт о распределённой, горизонтально масштабируемой системе (как она зявлена), то докер подойдёт.

**Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana**  

*Опыт работы с этой софтиной есть, но крайне невелик. Так что мои выводы могут не совпадать с мнением профи.*  
Напрашиваются варианты или с пачкой виртуальных машин, или же с докером, благо, на официальном сайте программы использование докера - один из предпочтительных сценариев.

**Мониторинг-стек на базе Prometheus и Grafana**

Судя по количеству докер-контейнеров с Grafana и Prometheus, это весьма подходящее решение для докеризации. Не будем спорить с интернет-сообществом.

**MongoDB, как основное хранилище данных для java-приложения**

Аксакалы и гуру крайне против применения докера в работе с базами данных, если, конечно, это не тестовая база, ценность которой равна нулю.

Тоже голосую за виртуалки или физические сервера.

**Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.**

Докер тут точно не подойдёт - слишком сложная система с кучей процессов там внутри.

Я бы выбрал виртуалку с точки зрения упрощения администрирования и возможного аварийного восстановления. Единственное "но" - Docker Registry крайне желательно выделить на отдельный виртуальный диск.

## Задача 3

- *Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;*
- *Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;*
- *Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;*
- *Добавьте еще один файл в папку ```/data``` на хостовой машине;*
- *Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.*

## Задача 4 (*)

*Воспроизвести практическую часть лекции самостоятельно.*

*Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.*


---

### Как cдавать задание

*Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.*

---

